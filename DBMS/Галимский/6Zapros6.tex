Формулировка: посчитать число групп с одинаковым числом занятий.
\par\medskip
Запрос на SQL:
\begin{verbatim} 
SELECT COUNT(tg_gr_num), A.lescount 
FROM (SELECT COUNT(tg_les_id) AS lescount, tg_gr_num
      FROM training_groups GROUP BY tg_gr_num) AS A 
GROUP BY A.lescount;
\end{verbatim}
\par\medskip
{\bf Результат выполнения запроса:}\\
\begin{tabular}{|r|r|}
\hline
COUNT(tg\_gr\_num) & lescount\\
\hline
1 & 19\\
\hline
1 & 24\\
\hline
1 & 41\\
\hline
\multicolumn{2}{|l|}{\dots}\\
\hline
1 & 142\\
\hline
\end{tabular}
\par\medskip
{\bf Время выполнения запроса:}\\
36  rows  in set  (0.00 sec)
\par\medskip
{\bf Анализ эффективности запроса:}\\
\begin{flushleft}
\begin{tabular}{|r|l|l|l|l|l|l|}
\hline
id & select\_type & table & type & possible\_keys & key & key\_len\\
\hline
1 & PRIMARY & <derived2> & ALL & NULL & NULL & NULL\\
\hline
2 & DERIVED & training\_groups & index & NULL & tg\_gr\_num & 11\\ 
\hline
\end{tabular}
\par\medskip
\begin{tabular}{|l|r|l|}
\hline
ref & rows & Extra\\
\hline
NULL & 49 & Using~temporary;   Using~filesort\\
\hline
NULL & 3800 & Using~index;   Using~join~buffer\\
\hline
\end{tabular}
\end{flushleft}
\par\medskip
Выполняется 2 запроса. 1й запрос отложенный. 2й обрабатывает 3800 отрок.
\par\medskip
Формула реляционной алгебры:
\begin{center}
$\pi_{\underset{\underset{gr\_num}{count(A.tg\_)}}{A.lescount}}
\Biggl(\gamma_{A.lescount}
\biggl(\rho_{A=(\rho_{count(tg\_les\_id)=lescount}
(\pi_{\underset{count(tg\_les\_id)}{tg\_gr\_num}}
(\gamma_{tg\_gr\_num}(training\_groups))
))}\biggl)\Biggl)
$
\end{center}
\begin{figure}[h!]
График\\
\centering
\includegraphics{08.png}
\hfill
\end{figure}
